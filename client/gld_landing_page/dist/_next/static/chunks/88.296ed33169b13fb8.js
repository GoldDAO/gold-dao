"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88],{1088:function(t,e,s){let r;s.r(e),s.d(e,{default:function(){return T}});var i=s(7437),n=s(8125),a=s(6648),l=s(2399),u=s(4011),c=s(9320),o=s(692),h=s(2646),d=class extends o.l{constructor(t,e){super(),this.options=e,this.#t=t,this.#e=null,this.bindMethods(),this.setOptions(e)}#t;#s=void 0;#r=void 0;#i=void 0;#n;#a;#e;#l;#u;#c;#o;#h;#d;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#s.addObserver(this),p(this.#s,this.options)?this.#f():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return f(this.#s,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return f(this.#s,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#v(),this.#s.removeObserver(this)}setOptions(t,e){let s=this.options,r=this.#s;if(this.options=this.#t.defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.Nc)(this.options.enabled,this.#s))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#R(),this.#s.setOptions(this.options),s._defaulted&&!(0,l.VS)(this.options,s)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#s,observer:this});let i=this.hasListeners();i&&y(this.#s,r,this.options,s)&&this.#f(),this.updateResult(e),i&&(this.#s!==r||(0,l.Nc)(this.options.enabled,this.#s)!==(0,l.Nc)(s.enabled,this.#s)||(0,l.KC)(this.options.staleTime,this.#s)!==(0,l.KC)(s.staleTime,this.#s))&&this.#m();let n=this.#b();i&&(this.#s!==r||(0,l.Nc)(this.options.enabled,this.#s)!==(0,l.Nc)(s.enabled,this.#s)||n!==this.#d)&&this.#g(n)}getOptimisticResult(t){let e=this.#t.getQueryCache().build(this.#t,t),s=this.createResult(e,t);return(0,l.VS)(this.getCurrentResult(),s)||(this.#i=s,this.#a=this.options,this.#n=this.#s.state),s}getCurrentResult(){return this.#i}trackResult(t,e){let s={};return Object.keys(t).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),s}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#s}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#t.defaultQueryOptions(t),s=this.#t.getQueryCache().build(this.#t,e);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#f(t){this.#R();let e=this.#s.fetch(this.options,t);return t?.throwOnError||(e=e.catch(l.ZT)),e}#m(){this.#x();let t=(0,l.KC)(this.options.staleTime,this.#s);if(l.sk||this.#i.isStale||!(0,l.PN)(t))return;let e=(0,l.Kp)(this.#i.dataUpdatedAt,t);this.#o=setTimeout(()=>{this.#i.isStale||this.updateResult()},e+1)}#b(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#s):this.options.refetchInterval)??!1}#g(t){this.#v(),this.#d=t,!l.sk&&!1!==(0,l.Nc)(this.options.enabled,this.#s)&&(0,l.PN)(this.#d)&&0!==this.#d&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||c.j.isFocused())&&this.#f()},this.#d))}#y(){this.#m(),this.#g(this.#b())}#x(){this.#o&&(clearTimeout(this.#o),this.#o=void 0)}#v(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(t,e){let s;let r=this.#s,i=this.options,n=this.#i,a=this.#n,u=this.#a,c=t!==r?t.state:this.#r,{state:o}=t,d={...o},f=!1;if(e._optimisticResults){let s=this.hasListeners(),n=!s&&p(t,e),a=s&&y(t,r,e,i);(n||a)&&(d={...d,...(0,h.z)(o.data,t.options)}),"isRestoring"===e._optimisticResults&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:R,status:m}=d;if(e.select&&void 0!==d.data){if(n&&d.data===a?.data&&e.select===this.#l)s=this.#u;else try{this.#l=e.select,s=e.select(d.data),s=(0,l.oE)(n?.data,s,e),this.#u=s,this.#e=null}catch(t){this.#e=t}}else s=d.data;if(void 0!==e.placeholderData&&void 0===s&&"pending"===m){let t;if(n?.isPlaceholderData&&e.placeholderData===u?.placeholderData)t=n.data;else if(t="function"==typeof e.placeholderData?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),this.#e=null}catch(t){this.#e=t}void 0!==t&&(m="success",s=(0,l.oE)(n?.data,t,e),f=!0)}this.#e&&(v=this.#e,s=this.#u,R=Date.now(),m="error");let b="fetching"===d.fetchStatus,g="pending"===m,Q="error"===m,O=g&&b,I=void 0!==s;return{status:m,fetchStatus:d.fetchStatus,isPending:g,isSuccess:"success"===m,isError:Q,isInitialLoading:O,isLoading:O,data:s,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:R,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!g,isLoadingError:Q&&!I,isPaused:"paused"===d.fetchStatus,isPlaceholderData:f,isRefetchError:Q&&I,isStale:x(t,e),refetch:this.refetch}}updateResult(t){let e=this.#i,s=this.createResult(this.#s,this.options);if(this.#n=this.#s.state,this.#a=this.options,void 0!==this.#n.data&&(this.#c=this.#s),(0,l.VS)(s,e))return;this.#i=s;let r={};t?.listeners!==!1&&(()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!this.#p.size)return!0;let r=new Set(s??this.#p);return this.options.throwOnError&&r.add("error"),Object.keys(this.#i).some(t=>this.#i[t]!==e[t]&&r.has(t))})()&&(r.listeners=!0),this.#Q({...r,...t})}#R(){let t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#s)return;let e=this.#s;this.#s=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#Q(t){u.V.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#t.getQueryCache().notify({query:this.#s,type:"observerResultsUpdated"})})}};function p(t,e){return!1!==(0,l.Nc)(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)||void 0!==t.state.data&&f(t,e,e.refetchOnMount)}function f(t,e,s){if(!1!==(0,l.Nc)(e.enabled,t)){let r="function"==typeof s?s(t):s;return"always"===r||!1!==r&&x(t,e)}return!1}function y(t,e,s,r){return(t!==e||!1===(0,l.Nc)(r.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&x(t,s)}function x(t,e){return!1!==(0,l.Nc)(e.enabled,t)&&t.isStaleByTime((0,l.KC)(e.staleTime,t))}var v=s(2265),R=v.createContext((r=!1,{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r})),m=()=>v.useContext(R),b=s(9311),g=v.createContext(!1),Q=()=>v.useContext(g);g.Provider;var O=(t,e)=>{(t.suspense||t.throwOnError)&&!e.isReset()&&(t.retryOnMount=!1)},I=t=>{v.useEffect(()=>{t.clearReset()},[t])},S=t=>{var e;let{result:s,errorResetBoundary:r,throwOnError:i,query:n}=t;return s.isError&&!r.isReset()&&!s.isFetching&&n&&(e=[s.error,n],"function"==typeof i?i(...e):!!i)},C=t=>{t.suspense&&("number"!=typeof t.staleTime&&(t.staleTime=1e3),"number"==typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3)))},w=(t,e)=>t?.suspense&&e.isPending,k=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});let E=async()=>{let t=await fetch("https://teiwz-pqaaa-aaaap-ag7hq-cai.raw.icp0.io/gold_nft_metrics");if(!t.ok)throw Error("Failed to fetch token metrics");return t.json()},N=t=>{let{iconSrc:e,iconAlt:s,text:r,value:n,loading:l}=t;return(0,i.jsxs)("div",{className:"flex h-10 px-4 pl-2 justify-center items-center rounded-3xl border gap-[8px] border-[#D3B872] bg-white",children:[e&&(0,i.jsx)(a.default,{src:e,alt:s,width:24,height:24,className:"w-[24px] h-[24px] flex-shrink-0"}),(0,i.jsx)("span",{className:"font-inter font-normal leading-[16px] text-[#262C2E]",children:r}),(0,i.jsx)("span",{className:"h-full w-0.5 bg-[#D3B872] rounded-3xl mx-[8px]"}),l?(0,i.jsx)("span",{className:"loading-skeleton"}):(0,i.jsx)("span",{className:"font-bold",children:n})]})};var T=()=>{let{data:t,isLoading:e,error:s}=function(t,e,s){var r,i,n,a;let l=(0,b.NL)(s),c=Q(),o=m(),h=l.defaultQueryOptions(t);null===(i=l.getDefaultOptions().queries)||void 0===i||null===(r=i._experimental_beforeQuery)||void 0===r||r.call(i,h),h._optimisticResults=c?"isRestoring":"optimistic",C(h),O(h,o),I(o);let[d]=v.useState(()=>new e(l,h)),p=d.getOptimisticResult(h);if(v.useSyncExternalStore(v.useCallback(t=>{let e=c?()=>void 0:d.subscribe(u.V.batchCalls(t));return d.updateResult(),e},[d,c]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),v.useEffect(()=>{d.setOptions(h,{listeners:!1})},[h,d]),w(h,p))throw k(h,d,o);if(S({result:p,errorResetBoundary:o,throwOnError:h.throwOnError,query:l.getQueryCache().get(h.queryHash)}))throw p.error;return null===(a=l.getDefaultOptions().queries)||void 0===a||null===(n=a._experimental_afterQuery)||void 0===n||n.call(a,h,p),h.notifyOnChangeProps?p:d.trackResult(p)}({queryKey:["tokenMetrics"],queryFn:E},d,void 0),{t:r}=(0,n.$G)("hero"),a=t?(parseFloat(t.total_gold_grams)/1e3).toFixed(2):null,l=t?Math.ceil(parseFloat(t.tvl)).toLocaleString("en-US"):null;return(0,i.jsxs)("div",{className:"h-screen  4xl:h-screen w-full flex flex-col items-center justify-center px-2 md:px-10 ",children:[(0,i.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",src:"/videos/Gold_DAO_bg_video.mp4"}),(0,i.jsxs)("div",{className:"relative text-center ",children:[(0,i.jsx)("h1",{className:"text-[60px] md:text-[82px] font-inter font-bold text-white leading-[90px] text-shadow-lg",style:{textShadow:"0px 10px 15px rgba(0, 0, 0, 0.10), 0px 4px 6px rgba(0, 0, 0, 0.05)"},children:r("title")}),(0,i.jsx)("p",{className:"text-[40px] md:text-[82px] font-inter font-light leading-[90px] text-[rgba(0,0,0,0.80)]",style:{textShadow:"0px 10px 15px rgba(0, 0, 0, 0.10), 0px 4px 6px rgba(0, 0, 0, 0.05)"},children:r("subtitle")}),(0,i.jsxs)("div",{className:"mt-10 sm:mt-[64px] flex-col space-y-6 xl:space-y-0 xl:w-full flex lg:flex-row justify-around items-center",children:[(0,i.jsx)(N,{iconSrc:"/static/icons/Gold-Light-1g.svg",iconAlt:"Total Gold Icon",text:r("total_gold_locked"),value:"".concat(a," kg"),loading:e}),(0,i.jsx)(N,{iconSrc:"/static/icons/Gold-Marketcap.svg",iconAlt:"Marketcap Icon",text:r("gldt_marketcap"),value:"$".concat(l),loading:e})]})]})]})}}}]);